!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("rxjs"),require("@angular/core"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("eu-loader",["exports","rxjs","@angular/core","@angular/common","@angular/platform-browser"],o):o(e["eu-loader"]={},e.rxjs,e.ng.core,e.ng.common,e.ng.platformBrowser)}(this,function(e,r,o,t,n){"use strict";var i=function(){function e(e){this.viewContainerRef=e}return e.decorators=[{type:o.Directive,args:[{selector:"[euPopupInsertion]"}]}],e.ctorParameters=function(){return[{type:o.ViewContainerRef}]},e}(),s=function(){function e(){this._afterClosed=new r.Subject,this.afterClosed=this._afterClosed.asObservable()}return e.prototype.close=function(e){this._afterClosed.next(e)},e}(),c=function u(){this.dismissOnClickOutside=!0,this.spinnerColor="#222222dc",this.textColor="#222222dc"},p=function(){function e(e,o,t,n){this.componentFactoryResolver=e,this.cd=o,this.dialogRef=t,this.dialogConfig=n,this._onClose=new r.Subject,this.onClose=this._onClose.asObservable()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()},e.prototype.ngOnDestroy=function(){this.componentRef&&this.componentRef.destroy()},e.prototype.onOverlayClicked=function(e){(this.dialogConfig.dismissOnClickOutside||this.dialogConfig.dismissOnClickOutside==undefined)&&this.dialogRef.close()},e.prototype.onDialogClicked=function(e){e.stopPropagation()},e.prototype.loadChildComponent=function(e){var o=this.componentFactoryResolver.resolveComponentFactory(e),t=this.insertionPoint.viewContainerRef;t.clear(),this.componentRef=t.createComponent(o)},e.decorators=[{type:o.Component,args:[{selector:"lib-eu-popup",template:'<div class="eu-dialog-overlay" (click)="onOverlayClicked($event)">\r\n  <div class="dialog" (click)="onDialogClicked($event)">\r\n    <ng-template euPopupInsertion> </ng-template>\r\n  </div>\r\n</div>\r\n',styles:[".eu-dialog-overlay{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.32);-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.eu-dialog-overlay .dialog{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;border-radius:.3125em;-webkit-animation:.2s pop;animation:.15s pop;padding:1.25em;border:none;background:#fff;font-family:inherit;font-size:1rem;max-width:100vw}@-webkit-keyframes pop{0%{-webkit-transform:scale(.5,.5)}100%{-webkit-transform:scale(1,1)}}"]}]}],e.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.ChangeDetectorRef},{type:s},{type:c}]},e.propDecorators={insertionPoint:[{type:o.ViewChild,args:[i,{read:!1}]}]},e}(),l=function(){function e(e,o){this._parentInjector=e,this._additionalTokens=o}return e.prototype.get=function(e,o,t){var n=this._additionalTokens.get(e);return n||this._parentInjector.get(e,o)},e}(),a=function(){function e(e,o){this.config=e,this.dialog=o}return e.prototype.onCancel=function(){this.dialog.close(!1)},e.prototype.onOk=function(){this.dialog.close(!0)},e.prototype.ngOnInit=function(){},e.decorators=[{type:o.Component,args:[{selector:"lib-eu-loader",template:'<div class="container">\r\n    <div class="loaderContainer">\r\n        <div class="sbl-circ"\r\n        [style.color]="config?.spinnerColor"\r\n        ></div>\r\n    </div>\r\n    <div class="text" \r\n    *ngIf="config?.text"\r\n    [style.color]="config?.textColor"\r\n    >{{config?.text}}</div>\r\n</div>',styles:[".sbl-circ{height:35px;width:35px;color:#222222dc;position:relative;display:inline-block;border:5px solid;border-radius:50%;border-top-color:transparent;animation:1s linear infinite rotate;-webkit-animation:1s linear infinite rotate}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.container{max-width:10rem;padding:0 10px}.loaderContainer{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.text{padding-top:10px;text-align:center;overflow-wrap:break-word}"]}]}],e.ctorParameters=function(){return[{type:c},{type:s}]},e}(),d=function(){function e(e,o,t){this.componentFactoryResolver=e,this.appRef=o,this.injector=t}return e.prototype.open=function(e){var o=this.appendDialogComponentToBody(e);return this.dialogComponentRef.instance.childComponentType=a,o},e.prototype.close=function(){this.removeLoaderComponentFromBody()},e.prototype.appendDialogComponentToBody=function(e){var o=this,t=new WeakMap;t.set(c,e);var n=new s;t.set(s,n);var r=n.afterClosed.subscribe(function(){o.removeLoaderComponentFromBody(),r.unsubscribe()}),i=this.componentFactoryResolver.resolveComponentFactory(p).create(new l(this.injector,t));this.appRef.attachView(i.hostView);var a=i.hostView.rootNodes[0];return document.body.appendChild(a),this.dialogComponentRef=i,this.dialogComponentRef.instance.onClose.subscribe(function(){o.removeLoaderComponentFromBody()}),n},e.prototype.removeLoaderComponentFromBody=function(){this.appRef.detachView(this.dialogComponentRef.hostView),this.dialogComponentRef.destroy()},e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.ApplicationRef},{type:o.Injector}]},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e(o.inject(o.ComponentFactoryResolver),o.inject(o.ApplicationRef),o.inject(o.INJECTOR))},token:e,providedIn:"root"}),e}(),f=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{declarations:[p,i,a],imports:[t.CommonModule,n.BrowserModule],exports:[p,i,a],entryComponents:[p,a]}]}],e}();e.EuLoaderService=d,e.EuLoaderComponent=p,e.EuLoaderModule=f,e.ɵc=c,e.ɵb=s,e.ɵa=i,e.ɵd=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=eu-loader.umd.min.js.map